{% extends 'blog/base.html' %}
{% load static %}
{% block content %}
<h1>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ¸Ğ³Ñ€Ñƒ {{ player.username }}! Rock âœŠ Paper âœ‹ Scissors âœŒï¸</h1>
<p>Ğ¢Ğ²Ğ¾Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ: {{ player.get_category_display }}</p>
<p>ĞŸĞ¾Ğ±ĞµĞ´Ñ‹: {{ player.wins }}, ĞŸĞ¾Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ: {{ player.losses }}, ĞĞ¸Ñ‡ÑŒĞ¸: {{ player.ties }}</p>

<div class="container">
    <div class="container__buttons">
        <button onclick="play('Rock')">Rock ğŸª¨</button>
        <button onclick="play('Paper')">Paper ğŸ“„</button>
        <button onclick="play('Scissors')">Scissors âœ‚ï¸</button>
    </div>
</div>

<a href="{% url 'player_list' %}">ĞĞ°Ğ·Ğ°Ğ´</a>

<style>

</style>

<script>
function play(choice) {
    fetch(`/api/play/?move=${choice}`)
        .then(res => res.json())
        .then(data => {
            alert(`Computer: ${data.computer}\nResult: ${data.result}\nWins: ${data.wins}, Losses: ${data.losses}, Ties: ${data.ties}`);
            location.reload();
        });
}
</script>
{% endblock %}
